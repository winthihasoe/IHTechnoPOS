import{r as g,j as e}from"./currencyStore-Dk9RVyyc.js";import{A as O}from"./Add-5ZpxTNJx.js";import y from"./QuickAddCollectionDialog-Dd-PIe21.js";import{A as E}from"./Autocomplete-DfOnEm4b.js";import{T as _}from"./TextField-DpXyhoD7.js";import{B as d}from"./Box-j1BTqM2v.js";import"./createSvgIcon-B7q9zImx.js";import"./clsx-B-dksMZM.js";import"./memoTheme-BxRvtGIq.js";import"./index-Rj29YxKv.js";import"./DialogContent-Cz4a0t2H.js";import"./useTheme-CvovRv7W.js";import"./useSlot-PFdYD2CN.js";import"./useForkRef-DgOCCfFR.js";import"./Paper-Df0ljdBt.js";import"./Modal-D1QunwiJ.js";import"./ownerWindow-HkKU3E4x.js";import"./ownerDocument-DW-IO8s5.js";import"./TransitionGroupContext-yQ7B3b2o.js";import"./Portal-DeuEDNNi.js";import"./index-DJHI8khq.js";import"./useId-9XzpHYrc.js";import"./DialogTitle-osZsMdGC.js";import"./Typography-DOI0NvTt.js";import"./index-CsFzvdgQ.js";import"./emotion-react.browser.esm-BdOGWTdw.js";import"./extendSxProp-Co6nc6xJ.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./Alert-CsOnCL1T.js";import"./Close-kFSrCAJM.js";import"./IconButton-PbvyX_sG.js";import"./ButtonBase-CjVOrSoJ.js";import"./useTimeout--F2UA0HV.js";import"./CircularProgress-B97ut0O7.js";import"./DialogActions-BraO_KzF.js";import"./Button-aMjmD1gp.js";import"./useControlled-DRAJCB75.js";import"./usePreviousProps-Dg0VAGfT.js";import"./Popper-pZx5Iht2.js";import"./index-DM5RHFVd.js";import"./useSlotProps-DuznN7Ax.js";import"./Chip-DT462TV2.js";import"./useFormControl-Cowmrh0y.js";import"./debounce-Be36O1Ab.js";import"./Grow-D31e1sMI.js";import"./mergeSlotProps-D_PRovB-.js";import"./List-OrinuOpJ.js";import"./ListContext-CTnR0k9S.js";import"./isMuiElement-HmfyYHhb.js";function Ot({collections:c,selectedCollections:o,onCollectionChange:m,collectionType:s,label:p,placeholder:u,onCollectionCreated:n}){const[x,a]=g.useState(!1),f=c.filter(t=>t.collection_type===s).map(t=>({id:t.id,label:t.name,collection_type:t.collection_type})),b=[{id:"create-new",label:`Create New ${p}`,isCreateNew:!0},...f],h=(t,r)=>{if(r.find(l=>l.isCreateNew)){a(!0);return}m(r)},N=t=>{const r={id:t.id,label:t.name,collection_type:t.collection_type};m([...o,r]),n&&n(t)};return e.jsxs(e.Fragment,{children:[e.jsx(E,{multiple:!0,size:"small",value:o,onChange:h,options:b,getOptionLabel:t=>t.label,isOptionEqualToValue:(t,r)=>t.id===r.id,fullWidth:!0,renderOption:(t,r)=>r.isCreateNew?e.jsxs(d,{component:"li",...t,sx:{color:"primary.main",fontWeight:600,borderBottom:"1px solid",borderColor:"divider","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},children:[e.jsx(O,{sx:{mr:1,fontSize:18}}),r.label]}):e.jsx(d,{component:"li",...t,children:r.label}),renderInput:t=>e.jsx(_,{...t,label:p,size:"small",placeholder:u}),renderTags:(t,r)=>t.map((i,l)=>e.jsxs("span",{...r({index:l}),className:"inline-flex items-center px-2 py-1 mr-1 mb-1 text-xs font-medium rounded-md bg-blue-100 text-blue-800",children:[i.label,e.jsx("button",{type:"button",onClick:()=>{m(o.filter(j=>j.id!==i.id))},className:"ml-1 text-blue-600 hover:text-blue-800",children:"Ã—"})]},i.id))}),e.jsx(y,{open:x,onClose:()=>a(!1),onSuccess:N,collectionType:s,label:p})]})}export{Ot as default};
