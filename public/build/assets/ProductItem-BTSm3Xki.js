import{r as x,f as d,j as e}from"./currencyStore-Dk9RVyyc.js";import{useAppConfig as f}from"./AppConfigContext-XFUA3Mas.js";import{u}from"./SalesContext-CG9t8_rq.js";import{p as g}from"./product-placeholder-DL4NWfZp.js";import{u as C}from"./currencyFormatter-Be2b0Ktm.js";import{C as h}from"./Card-C4NAxgST.js";import{C as y}from"./CardMedia-lO_mnymB.js";import{C as j}from"./CardContent-CCQfyhgH.js";import{T as _}from"./Typography-DOI0NvTt.js";import{B as b}from"./Box-j1BTqM2v.js";import"./numeral-NHlY-3dw.js";import"./clsx-B-dksMZM.js";import"./memoTheme-BxRvtGIq.js";import"./index-Rj29YxKv.js";import"./Paper-Df0ljdBt.js";import"./useTheme-CvovRv7W.js";import"./index-CsFzvdgQ.js";import"./emotion-react.browser.esm-BdOGWTdw.js";import"./extendSxProp-Co6nc6xJ.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";function K({product:t}){const{return_sale:s}=f(),m=C(),{name:o,price:i,image_url:a,quantity:I}=t,{addToCart:p,cartState:n}=u(),{setCartItemModalOpen:l,setSelectedCartItem:c}=x.useContext(d);return e.jsxs(h,{onClick:()=>{if(s?t.quantity=-1:t.quantity=1,t.discount_percentage&&Number(t.discount_percentage)!==0){const r=t.price*t.discount_percentage/100;t.discount=r}if(p(t,t.quantity),t.product_type==="reload"){const r=n.length>0?n.length:0;t.cart_index=r}c(t),l(!0)},sx:{height:"100%",position:"relative"},elevation:1,children:[e.jsx(y,{sx:{height:{xs:70,sm:100}},image:a||g,title:o}),e.jsx(j,{sx:{paddingBottom:"10px!important",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:e.jsx(_,{variant:"p",component:"div",className:"text-center",sx:{lineHeight:"1.2rem"},children:o})}),i>0&&e.jsx(b,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.6)",color:"white",padding:"2px 8px",borderRadius:"4px"},children:m(i,!1)})]})}export{K as default};
