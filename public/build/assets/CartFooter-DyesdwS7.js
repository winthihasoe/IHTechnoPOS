import{j as t,c as C,r as n,f as H,R as A}from"./currencyStore-Dk9RVyyc.js";import{D as v,M as _,B as N,F as Y}from"./FolderCopy-VbOLkKr2.js";import{c as F}from"./createSvgIcon-B7q9zImx.js";import{S as L}from"./ShoppingCart-C6ZMGsLy.js";import{R as Q}from"./Receipt-DnWIM4Bg.js";import{u}from"./SalesContext-CG9t8_rq.js";import W from"./HeldItemsModal-pNNr8gAs.js";import{P as G}from"./PaymentsCheckoutDialog-0sdlSFZF.js";import V from"./QuotationDialog-D91hlsyX.js";import U from"./CashCheckoutDialog-DdUAYNAL.js";import q from"./SaleTemplateDialog-QrpS1_42.js";import{S}from"./sweetalert2.esm.all-q958Q1qq.js";import{u as J}from"./useTheme-CvovRv7W.js";import{u as K}from"./index-JJ5bZ37u.js";import{G as p}from"./Grid-6qcTmjc4.js";import{B as x}from"./Button-aMjmD1gp.js";import{s as X,a as Z}from"./memoTheme-BxRvtGIq.js";import{M as i}from"./MenuItem-CEIQJ6q4.js";import{D as y}from"./Divider-D4ysiqwk.js";import{M as $}from"./TextField-DpXyhoD7.js";import"./clsx-B-dksMZM.js";import"./Close-B9rgBTOR.js";import"./DialogContent-Cz4a0t2H.js";import"./useSlot-PFdYD2CN.js";import"./useForkRef-DgOCCfFR.js";import"./Paper-Df0ljdBt.js";import"./Modal-D1QunwiJ.js";import"./ownerWindow-HkKU3E4x.js";import"./ownerDocument-DW-IO8s5.js";import"./TransitionGroupContext-yQ7B3b2o.js";import"./Portal-DeuEDNNi.js";import"./index-DJHI8khq.js";import"./useId-9XzpHYrc.js";import"./DialogTitle-osZsMdGC.js";import"./Typography-DOI0NvTt.js";import"./index-CsFzvdgQ.js";import"./emotion-react.browser.esm-BdOGWTdw.js";import"./extendSxProp-Co6nc6xJ.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./IconButton-PbvyX_sG.js";import"./ButtonBase-CjVOrSoJ.js";import"./useTimeout--F2UA0HV.js";import"./CircularProgress-B97ut0O7.js";import"./ListItemButton-DDnSs3En.js";import"./ListContext-CTnR0k9S.js";import"./listItemButtonClasses-DXPtGUcW.js";import"./ListItemText--0XI93dL.js";import"./listItemTextClasses-DNpdtY9T.js";import"./index-Rj29YxKv.js";import"./useThemeProps-Cgy5Iu59.js";import"./getThemeProps-DKKyYQML.js";import"./isMuiElement-HmfyYHhb.js";import"./PrintReceiptModal-Csw0Y3uy.js";import"./ReceiptDisplay-_SLXtf8O.js";import"./Print-5v-Lf9Qb.js";import"./snapdom-dxSfVsGw.js";import"./Barcode-DaGb-pRP.js";import"./JsBarcode-DwekVVut.js";import"./currencyFormatter-Be2b0Ktm.js";import"./numeral-NHlY-3dw.js";import"./Box-j1BTqM2v.js";import"./download-CxbKlL8J.js";import"./createLucideIcon-BMpC51dL.js";import"./Card-C4NAxgST.js";import"./CardMedia-lO_mnymB.js";import"./TableContainer-Bx1in-E2.js";import"./TableRow-BMfflATG.js";import"./TableCell-DMEjcBPA.js";import"./Percent-BCjtx-gP.js";import"./Payments-DSgOMdsa.js";import"./CreditCard-Dwl4hWaF.js";import"./HighlightOff-Bl6nUsD3.js";import"./index-RHigu7j0.js";import"./index-NgBaJJmW.js";import"./x-DFsc1drM.js";import"./InputAdornment-DZOHCUsF.js";import"./useFormControl-Cowmrh0y.js";import"./FormControlLabel-eGygXIaI.js";import"./Checkbox-DmEdO0Ay.js";import"./SwitchBase-DLVdjlNh.js";import"./useControlled-DRAJCB75.js";import"./mergeSlotProps-D_PRovB-.js";import"./DialogActions-BraO_KzF.js";import"./debounce-Be36O1Ab.js";import"./index-DM5RHFVd.js";import"./useSlotProps-DuznN7Ax.js";import"./Grow-D31e1sMI.js";import"./List-OrinuOpJ.js";import"./dividerClasses-BJEnnqiu.js";import"./en-gb-BMmXCQZs.js";import"./listItemIconClasses-vD-ryqxg.js";const O=F(t.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h10v-2H4v-6h18V6c0-1.11-.89-2-2-2m0 4H4V6h16zm4 9v2h-3v3h-2v-3h-3v-2h3v-3h2v3z"})),tt=X(o=>t.jsx($,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...o}))(({theme:o})=>({"& .MuiPaper-root":{borderRadius:6,marginTop:o.spacing(1),minWidth:180,[o.breakpoints.down("sm")]:{width:"100%"},color:"rgb(55, 65, 81)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:o.palette.text.secondary,marginRight:o.spacing(1.5)},"&:active":{backgroundColor:Z(o.palette.primary.main,o.palette.action.selectedOpacity)}},...o.applyStyles("dark",{color:o.palette.grey[300]})}}));function No(){const o=C().props.return_sale;C().props.edit_sale;const{cartState:r,holdCart:T,emptyCart:k}=u(),{selectedCustomer:e,saleDate:m,saleTime:I}=n.useContext(H),[z,h]=n.useState(!1),[D,d]=n.useState(!1),[E,f]=n.useState(!1),[R,g]=n.useState(!1),w=J(),l=K(w.breakpoints.down("sm")),[j,b]=A.useState(null),c=!!j,B=a=>{b(a.currentTarget)},s=()=>{b(null)},P=()=>{s(),S.fire({title:"Do you want to hold this cart?",showDenyButton:!0,confirmButtonText:"YES",denyButtonText:"NO"}).then(a=>{a.isConfirmed&&T()})},M=()=>{S.fire({title:"Do you want to clear this cart?",showDenyButton:!0,confirmButtonText:"YES",denyButtonText:"NO"}).then(a=>{a.isConfirmed&&k()})};return t.jsxs("div",{className:"w-full pb-2",children:[t.jsxs(p,{container:!0,spacing:1,size:12,children:[!l&&t.jsx(p,{size:{xs:6,sm:3},children:t.jsx(x,{variant:"contained",color:"error",endIcon:t.jsx(v,{}),disabled:r.length===0||e===null,onClick:M,size:"large",fullWidth:!0,children:"EMPTY"})}),t.jsxs(p,{size:{xs:12,sm:3},children:[t.jsx(x,{id:"demo-customized-button","aria-controls":c?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":c?"true":void 0,variant:"contained",size:"large",fullWidth:!0,disableElevation:!0,onClick:B,endIcon:t.jsx(_,{}),sx:{bgcolor:"#1A2027","&:hover":{bgcolor:"#2A3346"}},children:l?"Actions":"More"}),t.jsxs(tt,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:j,open:c,onClose:s,children:[l?t.jsxs("div",{children:[t.jsxs(i,{disableRipple:!0,disabled:r.length===0||e===null||o,onClick:M,children:[t.jsx(v,{}),"EMPTY"]}),t.jsxs(i,{disableRipple:!0,disabled:r.length===0,onClick:()=>{d(!0),s()},children:[t.jsx(O,{}),"PAYMENT"]})]}):null,t.jsxs(i,{disableRipple:!0,disabled:r.length===0||e===null||o,onClick:P,sx:{width:"100%"},children:[t.jsx(N,{}),"HOLD"]}),t.jsxs(i,{disableRipple:!0,onClick:()=>{h(!0),s()},disabled:o,children:[t.jsx(L,{}),"HOLD ITEMS"]}),t.jsx(y,{sx:{my:.5}}),t.jsxs(i,{disabled:r.length===0,onClick:()=>{g(!0),s()},children:[t.jsx(Y,{}),"GROUP ITEMS"]}),t.jsx(y,{sx:{my:.5}}),t.jsxs(i,{onClick:()=>f(!0),disableRipple:!0,disabled:e?.id===1||r.length===0||e===null,children:[t.jsx(Q,{}),"QUOTATION"]})]})]}),!l&&t.jsx(p,{size:{xs:6,sm:6},children:t.jsx(x,{variant:"contained",endIcon:t.jsx(O,{}),disabled:r.length===0||e===null||!m,onClick:()=>d(!0),size:"large",fullWidth:!0,children:"PAYMENTS"})})]}),t.jsx(p,{container:!0,mt:1,children:t.jsx(U,{disabled:r.length===0||e===null||!m})}),t.jsx(W,{modalOpen:z,setModalOpen:h}),t.jsx(G,{useCart:u,open:D,setOpen:d,selectedContact:e,is_sale:!0,formData:{sale_date:m,sale_time:I}}),t.jsx(V,{useCart:u,open:E,setOpen:f,selectedContact:e}),t.jsx(q,{open:R,setOpen:g})]})}export{No as default};
