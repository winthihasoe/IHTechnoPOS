import{r as l,j as a}from"./currencyStore-Dk9RVyyc.js";import{A as b}from"./Add-5ZpxTNJx.js";import{R as f}from"./Remove-6EDtWCFk.js";import{u as j}from"./SalesContext-CG9t8_rq.js";import{I as d}from"./IconButton-PbvyX_sG.js";import"./createSvgIcon-B7q9zImx.js";import"./clsx-B-dksMZM.js";import"./memoTheme-BxRvtGIq.js";import"./index-Rj29YxKv.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./useId-9XzpHYrc.js";import"./ButtonBase-CjVOrSoJ.js";import"./useTimeout--F2UA0HV.js";import"./TransitionGroupContext-yQ7B3b2o.js";import"./emotion-react.browser.esm-BdOGWTdw.js";import"./useForkRef-DgOCCfFR.js";import"./CircularProgress-B97ut0O7.js";const z=({cartItem:t})=>{const{cartState:_,updateProductQuantity:s}=j(),[e,u]=l.useState(t.quantity),[m,o]=l.useState(t.quantity),i=0,r=9999;l.useEffect(()=>{u(t.quantity),o(t.quantity)},[t.quantity]);const x=n=>{const c=parseFloat(n.target.value);if(isNaN(c))o(i),s(t.id,t.batch_number,i,t.cart_index);else{const p=Math.max(i,Math.min(c,r));u(p),o(p),s(t.id,t.batch_number,p,t.cart_index)}},y=()=>{const n=Math.max(parseFloat(e)-1,i);u(n),o(n),s(t.id,t.batch_number,n,t.cart_index)},h=()=>{const n=Math.min(parseFloat(e)+1,r);u(n),o(n),s(t.id,t.batch_number,n,t.cart_index)};return a.jsxs("div",{className:"quantity",children:[a.jsx(d,{onClick:y,disabled:e<=i,children:a.jsx(f,{})}),a.jsx("input",{type:"number",className:"input-box",step:"0.01",value:m,min:i,max:r,onChange:x,onFocus:n=>n.target.select()}),a.jsx(d,{onClick:h,disabled:e>=r,children:a.jsx(b,{})})]})};export{z as default};
