import{r as l,j as t,b as j}from"./currencyStore-Dk9RVyyc.js";import{D as y,a as D}from"./DialogContent-Cz4a0t2H.js";import{D as b}from"./DialogTitle-osZsMdGC.js";import{A as v}from"./Alert-CsOnCL1T.js";import{T as S}from"./TextField-DpXyhoD7.js";import{D as k}from"./DialogActions-BraO_KzF.js";import{B as f}from"./Button-aMjmD1gp.js";import{C as E}from"./CircularProgress-B97ut0O7.js";import"./clsx-B-dksMZM.js";import"./memoTheme-BxRvtGIq.js";import"./index-Rj29YxKv.js";import"./useTheme-CvovRv7W.js";import"./useSlot-PFdYD2CN.js";import"./useForkRef-DgOCCfFR.js";import"./Paper-Df0ljdBt.js";import"./Modal-D1QunwiJ.js";import"./ownerWindow-HkKU3E4x.js";import"./ownerDocument-DW-IO8s5.js";import"./TransitionGroupContext-yQ7B3b2o.js";import"./Portal-DeuEDNNi.js";import"./index-DJHI8khq.js";import"./useId-9XzpHYrc.js";import"./Typography-DOI0NvTt.js";import"./index-CsFzvdgQ.js";import"./emotion-react.browser.esm-BdOGWTdw.js";import"./extendSxProp-Co6nc6xJ.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./createSvgIcon-B7q9zImx.js";import"./Close-kFSrCAJM.js";import"./IconButton-PbvyX_sG.js";import"./ButtonBase-CjVOrSoJ.js";import"./useTimeout--F2UA0HV.js";import"./useFormControl-Cowmrh0y.js";import"./debounce-Be36O1Ab.js";import"./index-DM5RHFVd.js";import"./useSlotProps-DuznN7Ax.js";import"./Grow-D31e1sMI.js";import"./mergeSlotProps-D_PRovB-.js";import"./List-OrinuOpJ.js";import"./ListContext-CTnR0k9S.js";import"./useControlled-DRAJCB75.js";import"./isMuiElement-HmfyYHhb.js";function xt({open:x,onClose:p,onSuccess:h,collectionType:g,label:s}){const[a,m]=l.useState(""),[e,c]=l.useState(!1),[d,o]=l.useState(""),n=async i=>{if(i.preventDefault(),!a.trim()){o("Name is required");return}c(!0),o("");try{const r=await j.post("/collections/quick-create",{name:a.trim(),collection_type:g});r.data.success&&(h(r.data.collection),m(""),p())}catch(r){r.response?.data?.errors?.name?o(r.response.data.errors.name[0]):r.response?.data?.message?o(r.response.data.message):o("Failed to create collection. Please try again.")}finally{c(!1)}},u=()=>{e||(m(""),o(""),p())},C=i=>{i.key==="Enter"&&!e&&n(i)};return t.jsxs(y,{open:x,onClose:u,maxWidth:"xs",fullWidth:!0,children:[t.jsxs(b,{children:["Create New ",s]}),t.jsx(D,{children:t.jsxs("form",{onSubmit:n,children:[d&&t.jsx(v,{severity:"error",sx:{mb:2},children:d}),t.jsx(S,{autoFocus:!0,margin:"dense",label:`${s} Name`,type:"text",fullWidth:!0,variant:"outlined",value:a,onChange:i=>m(i.target.value),onKeyPress:C,disabled:e,placeholder:`Enter ${s.toLowerCase()} name...`,helperText:"Slug will be auto-generated from the name"})]})}),t.jsxs(k,{children:[t.jsx(f,{onClick:u,disabled:e,children:"Cancel"}),t.jsx(f,{onClick:n,variant:"contained",disabled:e||!a.trim(),startIcon:e&&t.jsx(E,{size:16}),children:e?"Creating...":"Create"})]})]})}export{xt as default};
