import{r as l,j as e,L as c,d as m}from"./currencyStore-Dk9RVyyc.js";import{n}from"./numeral-NHlY-3dw.js";import{P as p}from"./printer-BGHrbooI.js";import{c as r}from"./createLucideIcon-BMpC51dL.js";import{D as h}from"./Drawer-Dk2A_cxp.js";import{X as y}from"./x-DFsc1drM.js";import{B as f}from"./banknote-DLATD7uw.js";import"./clsx-B-dksMZM.js";import"./index-DM5RHFVd.js";import"./memoTheme-BxRvtGIq.js";import"./index-Rj29YxKv.js";import"./useTheme-CvovRv7W.js";import"./useSlot-PFdYD2CN.js";import"./useForkRef-DgOCCfFR.js";import"./mergeSlotProps-D_PRovB-.js";import"./Portal-DeuEDNNi.js";import"./TransitionGroupContext-yQ7B3b2o.js";import"./index-DJHI8khq.js";import"./debounce-Be36O1Ab.js";import"./ownerWindow-HkKU3E4x.js";import"./ownerDocument-DW-IO8s5.js";import"./Modal-D1QunwiJ.js";import"./Paper-Df0ljdBt.js";const j=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],u=r("corner-down-left",j);const g=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],N=r("ellipsis-vertical",g);const b=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v=r("eye",b);const _=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],k=r("square-pen",_);const w=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],z=r("trash",w),U=({sales:o,handleRowClick:a})=>{const[x,i]=l.useState(!1),[t,d]=l.useState(null);return e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"faded-bottom no-scrollbar grid gap-2 overflow-auto pt-1 pb-1 w-full mt-1",children:o.map(s=>e.jsxs("li",{className:"p-3 w-full shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-800",children:s.name}),e.jsx("span",{className:`mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="pending"?"bg-yellow-100 text-yellow-800":s.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status})]}),e.jsxs("div",{className:"flex flex-col items-end text-xs text-gray-500",children:[e.jsxs("span",{className:"font-semibold text-gray-700",children:["#",s.invoice_number]}),e.jsx("span",{children:s.sale_date})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center mt-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base text-xs text-gray-500",children:"Total"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 mt-1",children:n(s.total_amount).format("0,0.00")})]}),e.jsxs("div",{onClick:()=>a(s,"add_payment"),children:[e.jsx("h3",{className:"text-base text-xs text-gray-500",children:"Pending"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 mt-1",children:n(Number(s.amount_received)-Number(s.total_amount)).format("0,0.00")})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-2",children:[e.jsx(c,{href:"/receipt/"+s.id,className:"text-gray-600",children:e.jsx(p,{size:20})}),e.jsx("button",{"aria-label":"More options",className:"text-gray-600",onClick:()=>{d(s),i(!0)},children:e.jsx(N,{size:20})})]})]})]}))}),t&&e.jsx(h,{anchor:"bottom",open:x,onClose:()=>i(!1),sx:{"& .MuiDrawer-paper":{borderTopLeftRadius:"16px",borderTopRightRadius:"16px"}},children:e.jsxs("ul",{className:"divide-y divide-gray-200 p-4 rounded-sm",children:[e.jsxs("li",{className:"py-4 flex font-semibold text-gray-900 justify-between",children:["More options",e.jsx("button",{onClick:()=>i(!1),children:e.jsx(y,{size:25})})]}),e.jsx("li",{className:"py-4 flex",onClick:()=>{a(t,"view_details"),i(!1)},children:e.jsxs("button",{className:"flex items-center space-x-3 text-gray-700",children:[e.jsx(v,{size:20}),e.jsx("span",{children:"View Details"})]})}),e.jsx("li",{className:"py-4 flex",onClick:()=>a(t,"add_payment"),children:e.jsxs("button",{className:"flex items-center space-x-3 text-gray-700",children:[e.jsx(f,{size:22}),e.jsx("span",{children:"Add Payment"})]})}),m(t.created_at).subtract(7,"day")&&e.jsx("li",{className:"py-4 flex",onClick:()=>a(t,"edit"),children:e.jsxs("button",{className:"flex items-center space-x-3 text-gray-700",children:[e.jsx(k,{size:20}),e.jsx("span",{children:"Edit"})]})}),t.sale_type!=="return"&&e.jsx("li",{className:"py-4 flex",children:e.jsxs(c,{href:`/pos/${t.id}/return`,className:"flex items-center space-x-3 text-gray-700 w-full",children:[e.jsx(u,{size:20}),e.jsx("span",{children:"Return"})]})}),e.jsx("li",{className:"py-4 flex",children:e.jsxs("button",{onClick:()=>a(t,"delete"),className:"flex items-center space-x-3 text-red-600 w-full",children:[e.jsx(z,{size:20}),e.jsx("span",{children:"Delete"})]})})]})})]})};export{U as default};
