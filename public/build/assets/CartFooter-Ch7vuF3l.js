import{j as t,r as s,f as w,R as B}from"./currencyStore-Dk9RVyyc.js";import{D as j,M as H,B as P,F as A}from"./FolderCopy-VbOLkKr2.js";import{S as N}from"./ShoppingCart-C6ZMGsLy.js";import{R as F}from"./Receipt-DnWIM4Bg.js";import{P as Q,C as W}from"./CheckoutModal-_8yFlqxe.js";import{u as M}from"./SalesContext-CG9t8_rq.js";import{useAppConfig as Y}from"./AppConfigContext-XFUA3Mas.js";import _ from"./HeldItemsModal-DSqEecKB.js";import G from"./QuotationDialog-ktNyJ0Gs.js";import L from"./SaleTemplateDialog-C55ih7j2.js";import{S as b}from"./sweetalert2.esm.all-q958Q1qq.js";import{s as U,a as q}from"./memoTheme-BxRvtGIq.js";import{M as K}from"./TextField-DpXyhoD7.js";import{u as V}from"./useTheme-CvovRv7W.js";import{u as J}from"./index-JJ5bZ37u.js";import{G as l}from"./Grid-6qcTmjc4.js";import{B as d}from"./Button-aMjmD1gp.js";import{M as n}from"./MenuItem-CEIQJ6q4.js";import{D as O}from"./Divider-D4ysiqwk.js";import"./createSvgIcon-B7q9zImx.js";import"./clsx-B-dksMZM.js";import"./currencyFormatter-Be2b0Ktm.js";import"./numeral-NHlY-3dw.js";import"./FirebaseContext-4dvVdyML.js";import"./DialogContent-Cz4a0t2H.js";import"./useSlot-PFdYD2CN.js";import"./useForkRef-DgOCCfFR.js";import"./Paper-Df0ljdBt.js";import"./Modal-D1QunwiJ.js";import"./ownerWindow-HkKU3E4x.js";import"./ownerDocument-DW-IO8s5.js";import"./TransitionGroupContext-yQ7B3b2o.js";import"./Portal-DeuEDNNi.js";import"./index-DJHI8khq.js";import"./useId-9XzpHYrc.js";import"./Box-j1BTqM2v.js";import"./extendSxProp-Co6nc6xJ.js";import"./Typography-DOI0NvTt.js";import"./index-CsFzvdgQ.js";import"./emotion-react.browser.esm-BdOGWTdw.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./IconButton-PbvyX_sG.js";import"./ButtonBase-CjVOrSoJ.js";import"./useTimeout--F2UA0HV.js";import"./CircularProgress-B97ut0O7.js";import"./Close-B9rgBTOR.js";import"./InputAdornment-DZOHCUsF.js";import"./useFormControl-Cowmrh0y.js";import"./Percent-BCjtx-gP.js";import"./CreditCard-Dwl4hWaF.js";import"./DialogTitle-osZsMdGC.js";import"./ListItemButton-DDnSs3En.js";import"./ListContext-CTnR0k9S.js";import"./listItemButtonClasses-DXPtGUcW.js";import"./ListItemText--0XI93dL.js";import"./listItemTextClasses-DNpdtY9T.js";import"./DialogActions-BraO_KzF.js";import"./index-Rj29YxKv.js";import"./debounce-Be36O1Ab.js";import"./index-DM5RHFVd.js";import"./useSlotProps-DuznN7Ax.js";import"./Grow-D31e1sMI.js";import"./mergeSlotProps-D_PRovB-.js";import"./List-OrinuOpJ.js";import"./useControlled-DRAJCB75.js";import"./isMuiElement-HmfyYHhb.js";import"./getThemeProps-DKKyYQML.js";import"./useThemeProps-Cgy5Iu59.js";import"./listItemIconClasses-vD-ryqxg.js";import"./dividerClasses-BJEnnqiu.js";const X=U(o=>t.jsx(K,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...o}))(({theme:o})=>({"& .MuiPaper-root":{borderRadius:6,marginTop:o.spacing(1),minWidth:180,[o.breakpoints.down("sm")]:{width:"100%"},color:"rgb(55, 65, 81)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:o.palette.text.secondary,marginRight:o.spacing(1.5)},"&:active":{backgroundColor:q(o.palette.primary.main,o.palette.action.selectedOpacity)}},...o.applyStyles("dark",{color:o.palette.grey[300]})}}));function go(){const{return_sale:o,edit_sale:Z}=Y(),{cartState:r,holdCart:S,emptyCart:y}=M(),{selectedCustomer:e,saleDate:T,saleTime:$}=s.useContext(w),[k,c]=s.useState(!1),[I,u]=s.useState(!1),[v,x]=s.useState(!1),[E,h]=s.useState(!1),z=V(),p=J(z.breakpoints.down("sm")),[f,g]=B.useState(null),m=!!f,D=i=>{g(i.currentTarget)},a=()=>{g(null)},R=()=>{a(),b.fire({title:"Do you want to hold this cart?",showDenyButton:!0,confirmButtonText:"YES",denyButtonText:"NO"}).then(i=>{i.isConfirmed&&S()})},C=()=>{b.fire({title:"Do you want to clear this cart?",showDenyButton:!0,confirmButtonText:"YES",denyButtonText:"NO"}).then(i=>{i.isConfirmed&&y()})};return t.jsxs("div",{className:"w-full pb-4",children:[t.jsxs(l,{container:!0,spacing:1,columns:12,sx:{margin:0,width:"100%"},children:[!p&&t.jsx(l,{size:{sm:3},children:t.jsx(d,{variant:"contained",color:"error",endIcon:t.jsx(j,{}),disabled:r.length===0||e===null,onClick:C,size:"large",fullWidth:!0,children:"EMPTY"})}),t.jsx(l,{size:{xs:12,sm:3},children:t.jsx(d,{id:"demo-customized-button","aria-controls":m?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":m?"true":void 0,variant:"contained",size:"large",fullWidth:!0,disableElevation:!0,onClick:D,endIcon:t.jsx(H,{}),sx:{bgcolor:"#1A2027","&:hover":{bgcolor:"#2A3346"}},children:p?"ACTIONS":"MORE"})}),t.jsx(l,{size:{xs:12,sm:6},children:t.jsx(d,{variant:"contained",color:"primary",startIcon:t.jsx(Q,{}),disabled:r.length===0||e===null||!T,onClick:()=>u(!0),size:"large",fullWidth:!0,children:"CHECKOUT"})})]}),t.jsxs(X,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:f,open:m,onClose:a,children:[p?t.jsx("div",{children:t.jsxs(n,{disableRipple:!0,disabled:r.length===0||e===null||o,onClick:C,children:[t.jsx(j,{}),"EMPTY"]})}):null,t.jsxs(n,{disableRipple:!0,disabled:r.length===0||e===null||o,onClick:R,sx:{width:"100%"},children:[t.jsx(P,{}),"HOLD"]}),t.jsxs(n,{disableRipple:!0,onClick:()=>{c(!0),a()},disabled:o,children:[t.jsx(N,{}),"HOLD ITEMS"]}),t.jsx(O,{sx:{my:.5}}),t.jsxs(n,{disabled:r.length===0,onClick:()=>{h(!0),a()},children:[t.jsx(A,{}),"GROUP ITEMS"]}),t.jsx(O,{sx:{my:.5}}),t.jsxs(n,{onClick:()=>x(!0),disableRipple:!0,disabled:e?.id===1||r.length===0||e===null,children:[t.jsx(F,{}),"QUOTATION"]})]}),t.jsx(_,{modalOpen:k,setModalOpen:c}),t.jsx(W,{open:I,onClose:()=>u(!1)}),t.jsx(G,{useCart:M,open:v,setOpen:x,selectedContact:e}),t.jsx(L,{open:E,setOpen:h})]})}export{go as default};
